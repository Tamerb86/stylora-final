# ุฏููู ุฅุนุฏุงุฏ ูุธุงู SMS ูู BarberTime

## ุงูููุฎุต ุงูุชูููุฐู

ูุธุงู SMS ูู BarberTime **ููุทุจู ุจุงููุงูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู**. ูุฏุนู ุงููุธุงู **4 ูุฒูุฏู ุฎุฏูุฉ SMS** ูุฎุชููููุ ุจูุง ูู ุฐูู ูุฒูุฏูู ูุฑููุฌููู ูุชุฎุตุตูู ููุฒูุฏ ุฏููู (Twilio).

---

## ุงูููุฒุงุช ุงูููุทุจูุฉ โ

### 1. ุฅุฑุณุงู ุชุฐููุฑุงุช SMS ุชููุงุฆูุฉ

**ุงููุธููุฉ ุงูุฑุฆูุณูุฉ:**
- ุฅุฑุณุงู ุชุฐููุฑุงุช SMS ููุนููุงุก **ูุจู 24 ุณุงุนุฉ** ูู ููุนุฏูู
- ูุนูู ูุฎุฏูุฉ ุฎูููุฉ ุชูุดุบูู **ูู ุณุงุนุฉ** ุชููุงุฆูุงู
- ูุชุญูู ูู ุงูููุงุนูุฏ ุงููุงุฏูุฉ ููุฑุณู ุงูุชุฐููุฑุงุช ููุท ููู ูู ูุชูููุง ุชุฐููุฑุงู ุจุนุฏ

**ุงูุฑุณุงูุฉ ุงููููุฐุฌูุฉ (ุจุงููุฑููุฌูุฉ):**
```
Hei [ุงุณู ุงูุนููู]! Dette er en pรฅminnelse om din time hos [ุงุณู ุงูุตุงููู] 
[ุงูููู ูุงูุชุงุฑูุฎ] kl. [ุงูููุช]. Vi gleder oss til รฅ se deg!
```

**ูุซุงู:**
```
Hei Mohammed! Dette er en pรฅminnelse om din time hos BarberTime Oslo 
fredag 6. desember kl. 14:30. Vi gleder oss til รฅ se deg!
```

### 2. ุฏุนู 4 ูุฒูุฏู ุฎุฏูุฉ SMS

#### ุฃ) **Mock** (ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ)
- **ุงูุงุณุชุฎุฏุงู:** ุงูุชุทููุฑ ูุงูุงุฎุชุจุงุฑ ุงููุญูู
- **ุงูุชูููุฉ:** ูุฌุงูู (ูุง ูุฑุณู ุฑุณุงุฆู ุญููููุฉ)
- **ุงูููุฒุฉ:** ูุณุฌู ุงูุฑุณุงุฆู ูู ุงููููุณูู ููุท
- **ุงูุฅุนุฏุงุฏ:** ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ (ุงูุชุฑุงุถู)

#### ุจ) **PSWinCom** (ูุฑููุฌู - ููุตู ุจู)
- **ุงููููุน:** https://www.pswin.com/
- **ุงูุงุณุชุฎุฏุงู:** ูุฒูุฏ ูุฑููุฌู ูุชุฎุตุต
- **ุงูุชูููุฉ:** ุญุณุจ ุงูุงุณุชุฎุฏุงู (ุชูุฑูุจุงู 0.40-0.60 NOK ููู ุฑุณุงูุฉ)
- **ุงูููุฒุงุช:**
  - ุฏุนู ูุงูู ููุฃุฑูุงู ุงููุฑููุฌูุฉ
  - ูุนุฏู ุชุณููู ุนุงูู
  - ูุงุฌูุฉ ุจุฑูุฌูุฉ ุจุณูุทุฉ
- **ุงูุฅุนุฏุงุฏ:** ูุญุชุงุฌ API Key ู API Secret

#### ุฌ) **Link Mobility** (ูุฑููุฌู)
- **ุงููููุน:** https://www.linkmobility.com/
- **ุงูุงุณุชุฎุฏุงู:** ูุฒูุฏ ูุฑููุฌู ูุจูุฑ
- **ุงูุชูููุฉ:** ุญุณุจ ุงูุงุณุชุฎุฏุงู
- **ุงูููุฒุงุช:**
  - ููุตุฉ ุงุญุชุฑุงููุฉ
  - ุฏุนู ูุชุนุฏุฏ ุงููููุงุช (SMS, Email, Push)
  - ุชูุงุฑูุฑ ููุตูุฉ
- **ุงูุฅุนุฏุงุฏ:** ูุญุชุงุฌ API Key ู Platform Partner ID

#### ุฏ) **Twilio** (ุฏููู)
- **ุงููููุน:** https://www.twilio.com/
- **ุงูุงุณุชุฎุฏุงู:** ูุฒูุฏ ุฏููู ุดููุฑ
- **ุงูุชูููุฉ:** 
  - ุฑุตูุฏ ุชุฌุฑูุจู ูุฌุงูู ($15)
  - ุชูุฑูุจุงู $0.0079 ููู ุฑุณุงูุฉ ูููุฑููุฌ
- **ุงูููุฒุงุช:**
  - ุฏุนู ุนุงููู (ุฃูุซุฑ ูู 180 ุฏููุฉ)
  - ูุงุฌูุฉ ุจุฑูุฌูุฉ ูููุฉ
  - ูุซุงุฆู ููุชุงุฒุฉ
- **ุงูุฅุนุฏุงุฏ:** ูุญุชุงุฌ Account SID ู Auth Token ู ุฑูู ูุงุชู Twilio

---

## ุงูุจููุฉ ุงูุชูููุฉ

### ุงููููุงุช ุงูุฑุฆูุณูุฉ

```
server/
โโโ sms.ts                      # ูุธุงู ุฅุฑุณุงู SMS ุงูุฃุณุงุณู
โโโ notificationScheduler.ts    # ุฌุฏููุฉ ุงูุชุฐููุฑุงุช ุงูุชููุงุฆูุฉ
โโโ routers.ts                  # API endpoints (triggerReminders)
```

### ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

```bash
# ุงุฎุชูุงุฑ ุงููุฒูุฏ
SMS_PROVIDER=mock              # mock | pswincom | linkmobility | twilio

# ุจูุงูุงุช ุงูุงุนุชูุงุฏ (ุญุณุจ ุงููุฒูุฏ)
SMS_API_KEY=your_api_key       # ูุทููุจ ูุฌููุน ุงููุฒูุฏูู
SMS_API_SECRET=your_secret     # ูุทููุจ ูู PSWinCom ู Twilio
SMS_SENDER_ID=BarberTime       # ุงุณู ุงููุฑุณู (ุงุฎุชูุงุฑู)
```

---

## ุฏููู ุงูุฅุนุฏุงุฏ ุฎุทูุฉ ุจุฎุทูุฉ

### ุงูุฎูุงุฑ 1: PSWinCom (ููุตู ุจู ูููุฑููุฌ) ๐ณ๐ด

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุญุณุงุจ PSWinCom

1. ุฒูุงุฑุฉ https://www.pswin.com/
2. ุงูุชุณุฌูู ููุญุตูู ุนูู ุญุณุงุจ ุชุฌุฑูุจู ุฃู ูุฏููุน
3. ุชุณุฌูู ุงูุฏุฎูู ุฅูู ููุญุฉ ุงูุชุญูู

#### ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุงุนุชูุงุฏ

1. ุงูุฐูุงุจ ุฅูู **Settings** โ **API Settings**
2. ูุณุฎ **Username** (ุณูููู SMS_API_KEY)
3. ูุณุฎ **Password** (ุณูููู SMS_API_SECRET)
4. (ุงุฎุชูุงุฑู) ุชุนููู **Sender ID** ูุฎุตุต (ูุซู "BarberTime")

#### ุงูุฎุทูุฉ 3: ุชูููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

```bash
SMS_PROVIDER=pswincom
SMS_API_KEY=your_pswincom_username
SMS_API_SECRET=your_pswincom_password
SMS_SENDER_ID=BarberTime
```

#### ุงูุฎุทูุฉ 4: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

```bash
cd /home/ubuntu/barbertime
# ุณูุชู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุชููุงุฆูุงู ุนูุฏ ุญูุธ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
```

#### ุงูุฎุทูุฉ 5: ุงูุงุฎุชุจุงุฑ

ุงุณุชุฎุฏู ูุงุฌูุฉ ุงูุฅุดุนุงุฑุงุช ูู ููุญุฉ ุงูุชุญูู ุฃู:
```bash
# ุณูุชู ุฅุฑุณุงู ุงูุชุฐููุฑุงุช ุชููุงุฆูุงู ูู ุณุงุนุฉ
# ุฃู ุงุถุบุท ุนูู ุฒุฑ "ุฅุฑุณุงู ุงูุชุฐููุฑุงุช ุงูุขู" ูู ุตูุญุฉ /notifications
```

---

### ุงูุฎูุงุฑ 2: Twilio (ููุงุฎุชุจุงุฑ ุงูุณุฑูุน) ๐

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุญุณุงุจ Twilio

1. ุฒูุงุฑุฉ https://www.twilio.com/try-twilio
2. ุงูุชุณุฌูู (ุณุชุญุตู ุนูู $15 ุฑุตูุฏ ูุฌุงูู)
3. ุงูุชุญูู ูู ุฑูู ูุงุชูู

#### ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุงุนุชูุงุฏ

1. ุชุณุฌูู ุงูุฏุฎูู ุฅูู Twilio Console
2. ูุณุฎ **Account SID** (ุณูููู SMS_API_KEY)
3. ูุณุฎ **Auth Token** (ุณูููู SMS_API_SECRET)

#### ุงูุฎุทูุฉ 3: ุงูุญุตูู ุนูู ุฑูู ูุงุชู Twilio

1. ุงูุฐูุงุจ ุฅูู **Phone Numbers** โ **Buy a Number**
2. ุงุฎุชูุงุฑ ุฑูู ูุฑููุฌู (+47) ุฃู ุฏููู
3. ุดุฑุงุก ุงูุฑูู (ุชูุฑูุจุงู $1/ุดูุฑ)
4. ูุณุฎ ุงูุฑูู (ุณูููู SMS_SENDER_ID)

#### ุงูุฎุทูุฉ 4: ุชูููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

```bash
SMS_PROVIDER=twilio
SMS_API_KEY=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  # Account SID
SMS_API_SECRET=your_auth_token
SMS_SENDER_ID=+4712345678  # ุฑูู Twilio ุงูุฎุงุต ุจู
```

#### ุงูุฎุทูุฉ 5: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

```bash
cd /home/ubuntu/barbertime
# ุณูุชู ุฅุนุงุฏุฉ ุงูุชุดุบูู ุชููุงุฆูุงู
```

#### ุงูุฎุทูุฉ 6: ุงูุงุฎุชุจุงุฑ

**ููุงุญุธุฉ ูููุฉ ููุญุณุงุจ ุงูุชุฌุฑูุจู:**
- ููููู ููุท ุฅุฑุณุงู ุฑุณุงุฆู ุฅูู ุงูุฃุฑูุงู ุงูููุชุญูู ูููุง (Verified Numbers)
- ูุฅุถุงูุฉ ุฑูู ููุงุฎุชุจุงุฑ:
  1. ุงูุฐูุงุจ ุฅูู **Phone Numbers** โ **Verified Caller IDs**
  2. ุฅุถุงูุฉ ุฑูู ุงูุนููู
  3. ุงูุชุญูู ูู ุงูุฑูู ุนุจุฑ ุฑูุฒ SMS

---

### ุงูุฎูุงุฑ 3: Link Mobility (ุงุญุชุฑุงูู) ๐ข

#### ุงูุฎุทูุฉ 1: ุงูุงุชุตุงู ุจู Link Mobility

1. ุฒูุงุฑุฉ https://www.linkmobility.com/
2. ุทูุจ ุนุฑุถ ุฃุณุนุงุฑ ุฃู ุญุณุงุจ ุชุฌุฑูุจู
3. ุงูุงุชุตุงู ุจูุฑูู ุงููุจูุนุงุช

#### ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุงุนุชูุงุฏ

ุจุนุฏ ุฅูุดุงุก ุงูุญุณุงุจ:
1. ูุณุฎ **API Key**
2. ูุณุฎ **Platform Partner ID**

#### ุงูุฎุทูุฉ 3: ุชูููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

```bash
SMS_PROVIDER=linkmobility
SMS_API_KEY=your_api_key
SMS_API_SECRET=your_platform_partner_id
SMS_SENDER_ID=BarberTime
```

---

## ููููุฉ ุนูู ุงููุธุงู

### 1. ุงูุฌุฏููุฉ ุงูุชููุงุฆูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Notification Scheduler                    โ
โ                                                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  ูุนูู ูู ุณุงุนุฉ (Hourly Job)                          โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                            โ                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  ุงูุจุญุซ ุนู ุงูููุงุนูุฏ ูู ูุงูุฐุฉ 24 ุณุงุนุฉ ุงููุงุฏูุฉ       โ   โ
โ  โ  (23-25 ุณุงุนุฉ ูู ุงูุขู ููุณูุงุญ ุจุชูุงูุช ุงูุฌุฏููุฉ)        โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                            โ                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  ุงูุชุญูู: ูู ุชู ุฅุฑุณุงู ุชุฐููุฑ ููุฐุง ุงูุนููู ูู ูุจูุ    โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                            โ                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  ุฅุฑุณุงู SMS ุนุจุฑ ุงููุฒูุฏ ุงููููููู                     โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                            โ                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  ุชุณุฌูู ุงููุชูุฌุฉ ูู ุฌุฏูู notifications                โ   โ
โ  โ  (sent ุฃู failed)                                    โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 2. ุงูุฅุฑุณุงู ุงููุฏูู

ูููู ูููุณุคูููู ุฅุฑุณุงู ุงูุชุฐููุฑุงุช ูุฏููุงู ูู ุตูุญุฉ **Varsler** (Notifications):

```
ุตูุญุฉ /notifications
    โ
ุฒุฑ "ุฅุฑุณุงู ุงูุชุฐููุฑุงุช ุงูุขู"
    โ
ุงุณุชุฏุนุงุก API: notifications.triggerReminders
    โ
ุชุดุบูู processAppointmentReminders() ููุฑุงู
    โ
ุฅุฑุณุงู ุฌููุน ุงูุชุฐููุฑุงุช ุงููุณุชุญูุฉ
```

### 3. ุชูุณูู ุงูุฑุณุงูุฉ

```typescript
function formatAppointmentReminder(params: {
  customerName: string;
  salonName: string;
  appointmentDate: Date;
  appointmentTime: string;
  serviceName?: string;
}): string {
  // ุงูุชุงุฑูุฎ ุจุงููุฑููุฌูุฉ: "fredag 6. desember"
  const dateStr = params.appointmentDate.toLocaleDateString("no-NO", {
    weekday: "long",
    day: "numeric",
    month: "long",
  });

  let message = `Hei ${params.customerName}! Dette er en pรฅminnelse om din time hos ${params.salonName} ${dateStr} kl. ${params.appointmentTime}.`;
  
  if (params.serviceName) {
    message += ` Tjeneste: ${params.serviceName}.`;
  }

  message += ` Vi gleder oss til รฅ se deg!`;

  return message;
}
```

---

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `notifications`

ูุณุฌู ุฌููุน ูุญุงููุงุช ุฅุฑุณุงู SMS:

```sql
CREATE TABLE notifications (
  id INT PRIMARY KEY AUTO_INCREMENT,
  tenantId VARCHAR(255) NOT NULL,
  recipientType ENUM('customer', 'employee') NOT NULL,
  recipientId INT NOT NULL,
  notificationType ENUM('sms', 'email', 'push') NOT NULL,
  template VARCHAR(100) NOT NULL,  -- 'appointment_reminder_24h'
  recipientContact VARCHAR(255),   -- ุฑูู ุงููุงุชู
  subject VARCHAR(255),
  content TEXT,                    -- ูุต ุงูุฑุณุงูุฉ
  status ENUM('pending', 'sent', 'failed') NOT NULL,
  scheduledAt DATETIME NOT NULL,
  sentAt DATETIME,
  errorMessage TEXT,
  attempts INT DEFAULT 1,
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

**ุงูููุงุฆุฏ:**
- ุชุชุจุน ุฌููุน ุงูุฑุณุงุฆู ุงูููุฑุณูุฉ
- ููุน ุงูุฅุฑุณุงู ุงูููุฑุฑ
- ุชุญููู ูุนุฏู ุงููุฌุงุญ/ุงููุดู
- ุณุฌู ุชุฏููู ูุงูู

---

## ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุตูุญุฉ ุงูุฅุดุนุงุฑุงุช (`/notifications`)

**ุงูููุฒุงุช ุงูููุฌูุฏุฉ:**
- โ ุนุฑุถ ุฌููุน ุงูุฅุดุนุงุฑุงุช ุงูููุฑุณูุฉ
- โ ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ (sent, failed, pending)
- โ ุฒุฑ "ุฅุฑุณุงู ุงูุชุฐููุฑุงุช ุงูุขู" ููุฅุฑุณุงู ุงููุฏูู
- โ ูุนูููุงุช ุนู ุงูุชุฐููุฑุงุช ุงูุชููุงุฆูุฉ

**ุงููููุน ูู ุงูููุฏ:**
- `client/src/pages/Notifications.tsx`

---

## ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ Mock (ูุญูู)

```bash
# ูุง ุญุงุฌุฉ ูุชูููู - ูุนูู ุงูุชุฑุงุถูุงู
SMS_PROVIDER=mock

# ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู:
# ๐ฑ [MOCK SMS]
#    To: +4712345678
#    From: BarberTime
#    Message: Hei Mohammed! Dette er...
#    Status: โ Sent (mock)
```

### 2. ุงุฎุชุจุงุฑ Twilio (ุญูููู)

```bash
# ุชูููู Twilio
SMS_PROVIDER=twilio
SMS_API_KEY=ACxxxxxxxxxx
SMS_API_SECRET=your_auth_token
SMS_SENDER_ID=+4712345678

# ุฅูุดุงุก ููุนุฏ ุงุฎุชุจุงุฑู:
# 1. ุงุฐูุจ ุฅูู /appointments
# 2. ุฃูุดุฆ ููุนุฏ ุจุนุฏ 24 ุณุงุนุฉ ุจุงูุถุจุท
# 3. ุชุฃูุฏ ูู ุฃู ุงูุนููู ูุฏูู ุฑูู ูุงุชู ุตุญูุญ (+47xxxxxxxx)
# 4. ุงูุชุธุฑ ุณุงุนุฉ ุฃู ุงุถุบุท "ุฅุฑุณุงู ุงูุชุฐููุฑุงุช ุงูุขู"
```

### 3. ุงุฎุชุจุงุฑ ุงูุชุญูู ูู ุตุญุฉ ุงูุฃุฑูุงู

```typescript
import { validateNorwegianPhone } from "./server/sms";

validateNorwegianPhone("+4712345678");  // โ false (ูุฌุจ ุฃู ูุจุฏุฃ ุจู 4 ุฃู 9)
validateNorwegianPhone("+4798765432");  // โ true
validateNorwegianPhone("+4745678901");  // โ true
```

---

## ุงูุชูุงููู ุงููููุฏุฑุฉ

### PSWinCom (ุงููุฑููุฌ)
- **ุงูุณุนุฑ:** ~0.50 NOK ููู ุฑุณุงูุฉ
- **100 ุฑุณุงูุฉ/ุดูุฑ:** 50 NOK (~$5)
- **1,000 ุฑุณุงูุฉ/ุดูุฑ:** 500 NOK (~$50)

### Twilio (ุฏููู)
- **ุงูุณุนุฑ:** $0.0079 ููู ุฑุณุงูุฉ ูููุฑููุฌ
- **100 ุฑุณุงูุฉ/ุดูุฑ:** $0.79
- **1,000 ุฑุณุงูุฉ/ุดูุฑ:** $7.90
- **ุฑูู ุงููุงุชู:** $1/ุดูุฑ

### Link Mobility (ุงุญุชุฑุงูู)
- **ุงูุณุนุฑ:** ุญุณุจ ุงูุญุฌู (ุชูุงูุถ ูุน ุงููุจูุนุงุช)
- **ุนุงุฏุฉ:** ุฃุฑุฎุต ููุฃุญุฌุงู ุงููุจูุฑุฉ (10,000+ ุฑุณุงูุฉ/ุดูุฑ)

---

## ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

### ุณ: ููุงุฐุง ูุง ูุชู ุฅุฑุณุงู ุงูุฑุณุงุฆูุ

**ุฌ:** ุชุญูู ูู:
1. โ ูู SMS_PROVIDER ูููููู ุจุดูู ุตุญูุญุ
2. โ ูู ุจูุงูุงุช ุงูุงุนุชูุงุฏ (API_KEY, API_SECRET) ุตุญูุญุฉุ
3. โ ูู ุงูุนููู ูุฏูู ุฑูู ูุงุชู ุจุชูุณูู ุตุญูุญ (+47xxxxxxxx)ุ
4. โ ูู ุงูููุนุฏ ูู ูุงูุฐุฉ 24 ุณุงุนุฉ ุงููุงุฏูุฉุ
5. โ ูู ุชู ุฅุฑุณุงู ุชุฐููุฑ ููุฐุง ุงูุนููู ูู ูุจูุ
6. โ ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู ููุฃุฎุทุงุก

### ุณ: ููู ูููู ุชุบููุฑ ูุต ุงูุฑุณุงูุฉุ

**ุฌ:** ุนุฏูู ุงูุฏุงูุฉ `formatAppointmentReminder()` ูู `server/sms.ts`:

```typescript
export function formatAppointmentReminder(params: {
  customerName: string;
  salonName: string;
  appointmentDate: Date;
  appointmentTime: string;
  serviceName?: string;
}): string {
  // ูุต ูุฎุตุต ููุง
  return `ูุฑุญุจุงู ${params.customerName}! ุชุฐููุฑ ุจููุนุฏู...`;
}
```

### ุณ: ูู ูููู ุฅุฑุณุงู ุฑุณุงุฆู ููุฑูุฉ (ุบูุฑ ูุฌุฏููุฉ)ุ

**ุฌ:** ูุนู! ุงุณุชุฎุฏู ุงูุฏุงูุฉ `sendSMS()` ูุจุงุดุฑุฉ:

```typescript
import { sendSMS } from "./server/sms";

await sendSMS({
  to: "+4798765432",
  message: "ุฑุณุงูุฉ ูุฎุตุตุฉ ููุฑูุฉ"
});
```

### ุณ: ููู ูููู ุชุบููุฑ ุชูููุช ุงูุชุฐููุฑุ

**ุฌ:** ุนุฏูู `notificationScheduler.ts`:

```typescript
// ููุชุฐููุฑ ูุจู 48 ุณุงุนุฉ ุจุฏูุงู ูู 24:
const reminderStart = new Date(now.getTime() + 47 * 60 * 60 * 1000);
const reminderEnd = new Date(now.getTime() + 49 * 60 * 60 * 1000);
```

### ุณ: ูู ูุฏุนู ุงููุธุงู ุฑุณุงุฆู ูุชุนุฏุฏุฉ ุงููุบุงุชุ

**ุฌ:** ุญุงููุงู ูุฏุนู ุงููุฑููุฌูุฉ ููุท. ูุฅุถุงูุฉ ูุบุงุช:

1. ุฃุถู ูุนุงูู `language` ููุฏุงูุฉ `formatAppointmentReminder()`
2. ุงุณุชุฎุฏู ุดุฑุท `switch` ูุงุฎุชูุงุฑ ุงููุต ุงูููุงุณุจ
3. ุงุญูุธ ุชูุถูู ุงููุบุฉ ูู ุฌุฏูู `customers`

### ุณ: ูุง ูู ูุนุฏู ูุฌุงุญ ุงูุฅุฑุณุงู ุงููุชููุนุ

**ุฌ:**
- **PSWinCom/Link Mobility:** 95-99% (ููุฃุฑูุงู ุงููุฑููุฌูุฉ ุงูุตุญูุญุฉ)
- **Twilio:** 90-95% (ุนุงูููุงู)
- **ุงูุฃุณุจุงุจ ุงูุดุงุฆุนุฉ ูููุดู:**
  - ุฑูู ูุงุชู ุบูุฑ ุตุญูุญ
  - ุฑูู ุบูุฑ ูุดุท
  - ูุดุงูู ูู ุงูุดุจูุฉ
  - ุฑุตูุฏ ููุชูู

---

## ุงูุชูุตูุงุช

### ุฃููููุฉ ุนุงููุฉ:
1. โ **ุงุฎุชูุงุฑ ูุชูููู ูุฒูุฏ SMS** - ุถุฑูุฑู ูุชูุนูู ุงููุธุงู
2. ๐งช **ุงุฎุชุจุงุฑ ุดุงูู** - ุงุฎุชุจุงุฑ ุงูุฅุฑุณุงู ุงููุนูู ูุน ุฃุฑูุงู ุญููููุฉ
3. ๐ **ูุฑุงูุจุฉ ูุนุฏู ุงููุฌุงุญ** - ุชุชุจุน ุงูุฑุณุงุฆู ุงููุงุดูุฉ

### ุฃููููุฉ ูุชูุณุทุฉ:
4. ๐ **ุฏุนู ูุบุงุช ูุชุนุฏุฏุฉ** - ุฅุถุงูุฉ ุงูุฅูุฌููุฒูุฉ ูุงูุนุฑุจูุฉ
5. โฐ **ุชูููุชุงุช ูุฎุตุตุฉ** - ุงูุณูุงุญ ููุตุงูููุงุช ุจุงุฎุชูุงุฑ ุชูููุช ุงูุชุฐููุฑ
6. ๐ฑ **ุฑุณุงุฆู ุฅุถุงููุฉ** - ุชุฃููุฏ ุงูุญุฌุฒุ ุฅูุบุงุกุ ุชุฐููุฑ ุจุงูุฏูุน

### ุฃููููุฉ ููุฎูุถุฉ:
7. ๐จ **ููุงูุจ ูุงุจูุฉ ููุชุฎุตูุต** - ุงูุณูุงุญ ููุตุงูููุงุช ุจุชุฎุตูุต ูุต ุงูุฑุณุงุฆู
8. ๐ **ุชุญูููุงุช SMS** - ูุนุฏู ุงููุชุญุ ุงูุงุณุชุฌุงุจุฉุ ุฅูุฎ
9. ๐ **ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ** - ุฅุนุงุฏุฉ ุฅุฑุณุงู ุงูุฑุณุงุฆู ุงููุงุดูุฉ

---

## ุงูุฎูุงุตุฉ

ูุธุงู SMS ูู BarberTime **ููุทุจู ุจุงููุงูู ูููุฎุชุจุฑ ุฌูุฏุงู**. ูุฏุนู 4 ูุฒูุฏู ุฎุฏูุฉ ูุฎุชูููู ููุฑุณู ุชุฐููุฑุงุช ุชููุงุฆูุฉ ุงุญุชุฑุงููุฉ ุจุงููุฑููุฌูุฉ. ูู ูุง ูุญุชุงุฌู ูู:

1. **ุงุฎุชูุงุฑ ูุฒูุฏ SMS** (PSWinCom ููุตู ุจู ูููุฑููุฌุ Twilio ููุงุฎุชุจุงุฑ ุงูุณุฑูุน)
2. **ุชูููู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ** (SMS_PROVIDER, SMS_API_KEY, SMS_API_SECRET)
3. **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู**

ุจุนุฏ ุฐููุ ุณูุจุฏุฃ ุงููุธุงู ุจุฅุฑุณุงู ุงูุชุฐููุฑุงุช ุชููุงุฆูุงู ูู ุณุงุนุฉ! ๐

**ุงูุญุงูุฉ:** ๐ข ุฌุงูุฒ ููุฅูุชุงุฌ (ุจุนุฏ ุชูููู ูุฒูุฏ SMS)

---

## ุฑูุงุจุท ูููุฏุฉ

- **PSWinCom:** https://www.pswin.com/
- **Link Mobility:** https://www.linkmobility.com/
- **Twilio:** https://www.twilio.com/
- **Twilio Console:** https://console.twilio.com/
- **Twilio Pricing (Norway):** https://www.twilio.com/en-us/sms/pricing/no
